# Python垃圾回收---分代回收

问题？
* 什么时候扫描？
* 可能存在循环引用的链表扫描代价大，每次扫描耗时久

分代回收
===
将可能存在循环引用的对象维护成3个链表：
* 0代：0代中对象个数达到700个扫描一次；
* 1代：0代扫描10次，则1代扫描一次；
* 2代：1代扫描10次，则2代扫描一次；

操作方法：
- 最开始都是将list/tuple/dict/set这样的对象加到0代链表中，然后等0代达到700次之后，开始对0代对象进行垃圾回收：
  - 如果引用计数器-1，变成0，则回收；
  - 否则，移除到1代；
  - 这样进行一次回收之后，0代没有对象了；
  - 记录这样的一次回收为一次；
- 下次0代对象链表达到700之后，重复上述过程；
- 直到0代对象链表回收次数达到10次，开始对1代链表进行扫描回收；
  - 1代链表回收操作与对0代链表回收采用相同的方法；
  - 非垃圾，移除到2代中；是垃圾，则进行回收；
- 直到1代对象链表回收次数达到10次，开始对2代链表进行扫描回收。
